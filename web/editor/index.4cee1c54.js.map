{"mappings":"AAYAA,eAAeC,EAAaC,EAAOC,eAClCC,OAAOD,cAAgBD,QACNG,QAAQ,uBAAwB,KAEhDC,UACC,gBACAH,eACA,IAAII,MAAOC,SAAS,GAAI,EAAG,EAAG,IAE/BC,EAAE,gBAAgBC,MAAMC,QAAU,OAClCF,EAAE,YAAYC,MAAMC,QAAU,QAC9BC,QAEAH,EAAE,cAAcI,UAAY,qC,CAzB9BT,OAAOD,cAAgBW,UAAU,iBAEjCL,EAAE,aAAaM,iBAAiB,UAAUC,IACzCA,EAAMC,iBACN,MAAMC,EAAWT,EAAE,iBAAiBU,MAC9BC,EAAWX,EAAE,iBAAiBU,MAEpClB,EAAa,SADIoB,KAAK,GAAGH,KAAYE,OACJ,IAGlCX,EAAE,iBAAiBa,QAmBfnB,eACHF","sources":["frontend/editor/auth-section.js"],"sourcesContent":["window.Authorization = getCookie('Authorization');\n\n$('auth_form').addEventListener('submit', event => {\n\tevent.preventDefault();\n\tconst username = $('auth_username').value;\n\tconst password = $('auth_password').value;\n\tconst auth_b64 = btoa(`${username}:${password}`);\n\tauthenticate(`Basic ${auth_b64}`);\n});\n\n$('auth_username').focus();\n\nasync function authenticate(auth = Authorization) {\n\twindow.Authorization = auth;\n\tconst ok = await request('../api/v1/check-auth', {});\n\tif (ok) {\n\t\tsetCookie(\n\t\t\t'Authorization',\n\t\t\tAuthorization,\n\t\t\tnew Date().setHours(24, 0, 0, 0),\n\t\t);\n\t\t$('authenticate').style.display = 'none';\n\t\t$('settings').style.display = 'block';\n\t\tpull();\n\t} else {\n\t\t$('auth_error').innerHTML = 'Failed to log in. Please try again.';\n\t}\n}\n\nif (Authorization) {\n\tauthenticate();\n}\n"],"names":["async","$c131ec76a73d3348$var$authenticate","auth","Authorization","window","request","setCookie","Date","setHours","$","style","display","pull","innerHTML","getCookie","addEventListener","event","preventDefault","username","value","password","btoa","focus"],"version":3,"file":"index.4cee1c54.js.map"}