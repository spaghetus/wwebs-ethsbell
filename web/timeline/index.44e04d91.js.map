{"mappings":"AAwBAA,IAxBAC,eAAuBC,G,IAMqCC,EACCC,EAL5DC,MAAM,cAAcC,UAAYJ,EAAK,GAAK,QAAQK,WAAWL,EAAK,GAAGM,SAAW,GAChFH,MAAM,YAAYC,UAAYJ,EAAK,GAAK,SAASK,WAAWL,EAAK,GAAGO,OAAS,GAC7EJ,MAAM,aAAaC,UAAYI,YAAYR,EAAK,IAEhDG,MAAM,cAAcC,UAAYJ,EAAK,GAAK,MAAMK,WAAkB,QAAPJ,EAAAD,EAAK,UAAE,IAAPC,OAAA,EAAAA,EAASK,SAAW,GAC/EH,MAAM,YAAYC,UAAYJ,EAAK,GAAK,SAASK,WAAkB,QAAPH,EAAAF,EAAK,UAAE,IAAPE,OAAA,EAAAA,EAASK,OAAS,GAC9EJ,MAAM,aAAaC,UAAYI,YAAYR,EAAK,IAEhD,MAAMS,EAAW,GACXC,EAAO,GACb,IAAK,MAAMC,KAAWX,EAAK,GAAI,CAC9B,MAAMY,EAAWT,MAAM,WAAWC,UAClCK,EAASI,KAAKD,EAASE,QAAQ,aAAcT,WAAWM,EAAQL,QAAQQ,QAAQ,YAAaN,YAAYG,IAAUG,QAAQ,WAAYT,WAAWM,EAAQJ,OAC1JG,EAAKG,KAAKE,gBAAgBJ,EAAQJ,K,CAGnCJ,MAAM,kBAAkBC,UAAYK,EAASO,KAAKb,MAAM,qBAAqBC,WAC7ED,MAAM,aAAaC,UAAY,aAAaa,WAAWP,KAAQA,EAAKQ,OAAS,EAAI,kBAAoB,MACrGC,OAAOC,eAAiBC,IAAI,gBAAgBC,MAAKC,GAAKA,EAAEC,UACxDC,YAAYL,S","sources":["frontend/timeline/index.js"],"sourcesContent":["async function display(data) {\n\t// Display previous\n\tgetel('prev_start').innerHTML = data[0] ? `from ${human_time(data[0].start)}` : '';\n\tgetel('prev_end').innerHTML = data[0] ? `until ${human_time(data[0].end)}` : '';\n\tgetel('prev_name').innerHTML = period_html(data[0]);\n\t// Display next\n\tgetel('next_start').innerHTML = data[2] ? `at ${human_time(data[2]?.start)}` : '';\n\tgetel('next_end').innerHTML = data[2] ? `until ${human_time(data[2]?.end)}` : '';\n\tgetel('next_name').innerHTML = period_html(data[2]);\n\t// Display currents\n\tconst currents = [];\n\tconst ends = [];\n\tfor (const current of data[1]) {\n\t\tconst new_text = getel('current').innerHTML;\n\t\tcurrents.push(new_text.replace('CURR_START', human_time(current.start)).replace('CURR_NAME', period_html(current)).replace('CURR_END', human_time(current.end)));\n\t\tends.push(human_time_left(current.end));\n\t}\n\n\tgetel('current_parent').innerHTML = currents.join(getel('current_separator').innerHTML);\n\tgetel('time_left').innerHTML = `Ending in ${human_list(ends)}${ends.length > 1 ? ', respectively.' : '.'}`;\n\twindow.all_data = await get('api/v1/today').then(v => v.periods);\n\tplace_boxes(all_data);\n}\n\ngo(display);\n"],"names":["go","async","data","ref","ref1","getel","innerHTML","human_time","start","end","period_html","currents","ends","current","new_text","push","replace","human_time_left","join","human_list","length","window","all_data","get","then","v","periods","place_boxes"],"version":3,"file":"index.44e04d91.js.map"}