function e(){return Object.assign(DEFAULT_CONFIG,JSON.parse(localStorage.getItem("schedule"))||"{}")}function o(e){const o=`#${e}`;return document.querySelector(o)}function t(){const t=e();o("foreground_color").value=t.foreground_color,o("background_color").value=t.background_color,o("foreground_text_color").value=t.foreground_text_color,o("background_text_color").value=t.background_text_color,o("schedule_color_background").checked=t.use_schedule_color,o("default-page").value=t.default_page||"/",o("cfg_body").innerHTML=[{name:"Early Bird",code:"EarlyBird"},{name:"Lunch 1",code:"Lunch 1"},{name:"Lunch 2",code:"Lunch 2"},{name:"Block 1",code:"Block1"},{name:"Block 2",code:"Block2"},{name:"Block 3",code:"Block3"},{name:"Block 4",code:"Block4"},{name:"Block 5",code:"Block5"},{name:"Block 6",code:"Block6"},{name:"Block 7",code:"Block7"},{name:"Block 8",code:"Block8"}].map((e=>{var o,c;return`<tr><td>${e.name}</td><td><input data-for="name" data-period="${e.code}" value="${(null===(o=t.schedule[e.code])||void 0===o?void 0:o.name)||""}"}></td><td><input type="url" data-for="url" data-period="${e.code}" value="${(null===(c=t.schedule[e.code])||void 0===c?void 0:c.url)||""}"}></td></tr>`})).join("\n"),o("include_period_name").checked=t.include_period_name||void 0===t.include_period_name,c()}function c(){o("example_name").innerHTML=`<a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">${o("include_period_name").checked?"Block 1 - Custom Name":"Custom Name"}</a>`}o("upload").addEventListener("click",(async()=>{const e=o("cfg").files[0];if(!e)return void alert("Please select a file");const c=await e.text();let n;try{n=JSON.parse(c)}catch{return void alert("Invalid file contents")}localStorage.setItem("schedule",c),broadcastConfigToExtension(),t(),setTheme(),alert("Settings imported.")})),o("cfg").addEventListener("change",(()=>{o("upload").disabled=1!==o("cfg").files.length})),o("include_period_name").addEventListener("change",(()=>{c()})),t(),o("save-schedule").addEventListener("click",(()=>{const t={};for(const e of document.querySelectorAll("input[data-for=name]")){const o=e.getAttribute("data-period");t[o]||(t[o]={}),t[o].name=e.value||null}for(const e of document.querySelectorAll("input[data-for=url]")){const o=e.getAttribute("data-period");t[o]||(t[o]={}),t[o].url=e.value||null}const c=e();c.schedule=t,c.include_period_name=o("include_period_name").checked,localStorage.setItem("schedule",JSON.stringify(c)),broadcastConfigToExtension(),alert("Saved.")})),o("save-default").addEventListener("click",(()=>{const t=e();t.default_page=o("default-page").value,localStorage.setItem("schedule",JSON.stringify(t)),broadcastConfigToExtension(),alert("Saved.")})),o("save-colors").addEventListener("click",(()=>{const t=e();t.foreground_color=o("foreground_color").value,t.background_color=o("background_color").value,t.foreground_text_color=o("foreground_text_color").value,t.background_text_color=o("background_text_color").value,t.use_schedule_color=o("schedule_color_background").checked,localStorage.setItem("schedule",JSON.stringify(t)),broadcastConfigToExtension(),setTheme(),alert("Saved.")})),o("download").addEventListener("click",(()=>{const e=new Blob([localStorage.getItem("schedule")],{type:"application/json"}),o=URL.createObjectURL(e),t=document.createElement("a");t.href=o,t.download="ethsbell.json",t.click(),URL.revokeObjectURL(o)})),o("reset-colors").addEventListener("click",(()=>{if(!confirm("Are you sure you want to reset?"))return;const o=e();o.foreground_color="#1a2741",o.background_color="#c34614",o.foreground_text_color="#ffffff",o.background_text_color="#ffffff",o.use_schedule_color=!0,localStorage.setItem("schedule",JSON.stringify(o)),broadcastConfigToExtension(),setTheme(),t()})),o("reset-schedule").addEventListener("click",(()=>{if(!confirm("Are you sure you want to reset?"))return;const o=e();o.schedule={},localStorage.setItem("schedule",JSON.stringify(o)),broadcastConfigToExtension(),t()})),o("instructions_toggle").addEventListener("click",(()=>{o("instructions").classList.toggle("show")}));
//# sourceMappingURL=index.dd2ea809.js.map
