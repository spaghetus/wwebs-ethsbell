{"mappings":"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","sources":["frontend/config/schedule.js"],"sourcesContent":["function getConfig() {\n\treturn Object.assign(DEFAULT_CONFIG, JSON.parse(localStorage.getItem('schedule')) || '{}');\n}\n\ngetel('upload').addEventListener('click', async () => {\n\tconst file = getel('cfg').files[0];\n\tif (!file) {\n\t\talert('Please select a file');\n\t\treturn;\n\t}\n\n\tconst text = await file.text();\n\n\tlet data;\n\ttry {\n\t\tdata = JSON.parse(text);\n\t} catch {\n\t\talert('Invalid file contents');\n\t\treturn;\n\t}\n\n\tlocalStorage.setItem('schedule', text);\n\tbroadcastConfigToExtension();\n\tpopulate();\n\tsetTheme();\n\talert('Settings imported.');\n});\n\ngetel('cfg').addEventListener('change', () => {\n\tgetel('upload').disabled = getel('cfg').files.length !== 1;\n});\n\ngetel('include_period_name').addEventListener('change', () => {\n\teditPeriodExample();\n});\n\nfunction getel(id) {\n\tconst selector = `#${id}`;\n\treturn document.querySelector(selector);\n}\n\nfunction populate() {\n\tconst initial = getConfig();\n\n\tgetel('foreground_color').value = initial.foreground_color;\n\tgetel('background_color').value = initial.background_color;\n\tgetel('foreground_text_color').value = initial.foreground_text_color;\n\tgetel('background_text_color').value = initial.background_text_color;\n\tgetel('schedule_color_background').checked = initial.use_schedule_color;\n\tgetel('default-page').value = initial.default_page || '/';\n\tgetel('cfg_body').innerHTML = [\n\t\t{name: 'Early Bird', code: 'EarlyBird'},\n\t\t{name: 'Lunch 1', code: 'Lunch 1'},\n\t\t{name: 'Lunch 2', code: 'Lunch 2'},\n\t\t{name: 'Block 1', code: 'Block1'},\n\t\t{name: 'Block 2', code: 'Block2'},\n\t\t{name: 'Block 3', code: 'Block3'},\n\t\t{name: 'Block 4', code: 'Block4'},\n\t\t{name: 'Block 5', code: 'Block5'},\n\t\t{name: 'Block 6', code: 'Block6'},\n\t\t{name: 'Block 7', code: 'Block7'},\n\t\t{name: 'Block 8', code: 'Block8'},\n\t]\n\t\t.map(\n\t\t\tx =>\n\t\t\t\t`<tr><td>${x.name}</td><td><input data-for=\"name\" data-period=\"${x.code}\" value=\"${initial.schedule[x.code]?.name || ''}\"}></td><td><input type=\"url\" data-for=\"url\" data-period=\"${\n\t\t\t\t\tx.code\n\t\t\t\t}\" value=\"${initial.schedule[x.code]?.url || ''}\"}></td></tr>`,\n\t\t)\n\t\t.join('\\n');\n\tgetel('include_period_name').checked = initial.include_period_name || initial.include_period_name === undefined;\n\teditPeriodExample();\n}\n\nfunction editPeriodExample() {\n\t// Sometimes I just like to watch the world burn.\n\tgetel('example_name').innerHTML = `<a href=\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\">${getel('include_period_name').checked ? 'Block 1 - Custom Name' : 'Custom Name'}</a>`;\n}\n\npopulate();\n\ngetel('save-schedule').addEventListener('click', () => {\n\tconst schedule = {};\n\tfor (const x of document.querySelectorAll('input[data-for=name]')) {\n\t\tconst period = x.getAttribute('data-period');\n\t\tif (!schedule[period]) {\n\t\t\tschedule[period] = {};\n\t\t}\n\n\t\tschedule[period].name = x.value || null;\n\t}\n\n\tfor (const x of document.querySelectorAll('input[data-for=url]')) {\n\t\tconst period = x.getAttribute('data-period');\n\t\tif (!schedule[period]) {\n\t\t\tschedule[period] = {};\n\t\t}\n\n\t\tschedule[period].url = x.value || null;\n\t}\n\n\tconst data = getConfig();\n\n\tdata.schedule = schedule;\n\tdata.include_period_name = getel('include_period_name').checked;\n\n\tlocalStorage.setItem('schedule', JSON.stringify(data));\n\tbroadcastConfigToExtension();\n\talert('Saved.');\n});\n\ngetel('save-default').addEventListener('click', () => {\n\tconst data = getConfig();\n\n\tdata.default_page = getel('default-page').value;\n\n\tlocalStorage.setItem('schedule', JSON.stringify(data));\n\tbroadcastConfigToExtension();\n\talert('Saved.');\n});\n\ngetel('save-colors').addEventListener('click', () => {\n\tconst data = getConfig();\n\n\tdata.foreground_color = getel('foreground_color').value;\n\tdata.background_color = getel('background_color').value;\n\tdata.foreground_text_color = getel('foreground_text_color').value;\n\tdata.background_text_color = getel('background_text_color').value;\n\tdata.use_schedule_color = getel('schedule_color_background').checked;\n\n\tlocalStorage.setItem('schedule', JSON.stringify(data));\n\tbroadcastConfigToExtension();\n\tsetTheme();\n\talert('Saved.');\n});\n\ngetel('download').addEventListener('click', () => {\n\tconst blob = new Blob([localStorage.getItem('schedule')], {\n\t\ttype: 'application/json',\n\t});\n\n\tconst url = URL.createObjectURL(blob);\n\tconst a = document.createElement('a');\n\ta.href = url;\n\ta.download = 'ethsbell.json';\n\ta.click();\n\tURL.revokeObjectURL(url);\n});\n\ngetel('reset-colors').addEventListener('click', () => {\n\tif (!confirm('Are you sure you want to reset?')) {\n\t\treturn;\n\t}\n\n\tconst data = getConfig();\n\n\tdata.foreground_color = '#1a2741';\n\tdata.background_color = '#c34614';\n\tdata.foreground_text_color = '#ffffff';\n\tdata.background_text_color = '#ffffff';\n\tdata.use_schedule_color = true;\n\n\tlocalStorage.setItem('schedule', JSON.stringify(data));\n\tbroadcastConfigToExtension();\n\tsetTheme();\n\tpopulate();\n});\n\ngetel('reset-schedule').addEventListener('click', () => {\n\tif (!confirm('Are you sure you want to reset?')) {\n\t\treturn;\n\t}\n\n\tconst data = getConfig();\n\n\tdata.schedule = {};\n\n\tlocalStorage.setItem('schedule', JSON.stringify(data));\n\tbroadcastConfigToExtension();\n\tpopulate();\n});\n\ngetel('instructions_toggle').addEventListener('click', () => {\n\tgetel('instructions').classList.toggle('show');\n});\n"],"names":["$2fec7fada1913805$var$getConfig","Object","assign","DEFAULT_CONFIG","JSON","parse","localStorage","getItem","$2fec7fada1913805$var$getel","id","selector","document","querySelector","$2fec7fada1913805$var$populate","initial","value","foreground_color","background_color","foreground_text_color","background_text_color","checked","use_schedule_color","default_page","innerHTML","name","code","map","x","ref","ref1","schedule","url","join","include_period_name","undefined","$2fec7fada1913805$var$editPeriodExample","addEventListener","async","file","files","alert","text","data","setItem","broadcastConfigToExtension","setTheme","disabled","length","querySelectorAll","period","getAttribute","x1","period1","stringify","blob","Blob","type","URL","createObjectURL","a","createElement","href","download","click","revokeObjectURL","confirm","classList","toggle"],"version":3,"file":"index.8823d274.js.map"}