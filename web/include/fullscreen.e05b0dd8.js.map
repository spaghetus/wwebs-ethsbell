{"mappings":"YACA,MAAMA,EAAmBC,SAASC,cAAc,eAC1CC,EAAUF,SAASC,cAAc,YACjCE,EAAYH,SAASC,cAAc,eACnCG,EAAWJ,SAASC,cAAc,cAGpCI,kBACHN,EAAiBO,MAAMC,QAAU,eACjCR,EAAiBS,iBAAiB,SAASC,UAC1CC,iBAAiBR,EAAQ,KAK3BF,SAASQ,iBAAiB,oBAAoB,KACzCG,gBACHR,EAAUS,UAAUC,IAAI,QACxBT,EAASQ,UAAUE,OAAO,UAE1BX,EAAUS,UAAUE,OAAO,QAC3BV,EAASQ,UAAUC,IAAI,SAIxBE,IACAC,GAAW,IAIZ,IAAIC,EAAoBC,WAAWC,EAAS,KACxCC,GAAkB,EAClBC,GAAiB,EAGrB,SAASN,IACJhB,EAAiBa,UAAUU,SAAS,aACvCvB,EAAiBa,UAAUC,IAAI,UAC/Bd,EAAiBa,UAAUE,OAAO,YAGnCd,SAASuB,KAAKX,UAAUE,OAAO,a,CAIhC,SAASK,IACJC,GAICT,iBAILU,GAAiB,EAEjBrB,SAASuB,KAAKX,UAAUC,IAAI,cAC5Bd,EAAiBa,UAAUE,OAAO,UAClCf,EAAiBa,UAAUC,IAAI,WAE/BK,YAAW,KACVG,GAAiB,CAAK,GACpB,I,CAIJ,SAASL,IACRQ,aAAaP,GACbA,EAAoBC,WAAWC,EAAS,I,CAIzCnB,SAASQ,iBAAiB,aAAa,KACjCa,IACJN,IACAC,I,IAKFjB,EAAiBS,iBAAiB,cAAc,KAC/CY,GAAkB,CAAI,IAIvBrB,EAAiBS,iBAAiB,cAAc,KAC/CY,GAAkB,CAAK,G","sources":["frontend/global/fullscreen.js"],"sourcesContent":["// Full screen button\nconst fullScreenButton = document.querySelector('#fullscreen');\nconst wrapper = document.querySelector('#wrapper');\nconst enterFull = document.querySelector('#enter_full');\nconst exitFull = document.querySelector('#exit_full');\n\n// Show button if browser supports full screen\nif (canFullScreen()) {\n\tfullScreenButton.style.display = 'inline-block';\n\tfullScreenButton.addEventListener('click', async () => {\n\t\ttoggleFullScreen(wrapper);\n\t});\n}\n\n// Show appropriate icon when entering/exiting full screen\ndocument.addEventListener('fullscreenchange', () => {\n\tif (isFullScreen()) {\n\t\tenterFull.classList.add('none');\n\t\texitFull.classList.remove('none');\n\t} else {\n\t\tenterFull.classList.remove('none');\n\t\texitFull.classList.add('none');\n\t}\n\n\t// Show full screen button\n\tfadeIn();\n\tidleTimer();\n});\n\n// Hide full screen button and cursor if full screen when idle\nlet idleCursorTimeout = setTimeout(fadeOut, 5000);\nlet doNotHideButton = false;\nlet doNotIdleTimer = false;\n\n// Run fade in animation\nfunction fadeIn() {\n\tif (fullScreenButton.classList.contains('fadeout')) {\n\t\tfullScreenButton.classList.add('fadein');\n\t\tfullScreenButton.classList.remove('fadeout');\n\t}\n\n\tdocument.body.classList.remove('hidecursor');\n}\n\n// Run fade out animation\nfunction fadeOut() {\n\tif (doNotHideButton) {\n\t\treturn;\n\t}\n\n\tif (!isFullScreen()) {\n\t\treturn;\n\t}\n\n\tdoNotIdleTimer = true;\n\n\tdocument.body.classList.add('hidecursor');\n\tfullScreenButton.classList.remove('fadein');\n\tfullScreenButton.classList.add('fadeout');\n\n\tsetTimeout(() => {\n\t\tdoNotIdleTimer = false;\n\t}, 50);\n}\n\n// Reset idle timer\nfunction idleTimer() {\n\tclearTimeout(idleCursorTimeout);\n\tidleCursorTimeout = setTimeout(fadeOut, 5000);\n}\n\n// Reset idle timer when mouse moved\ndocument.addEventListener('mousemove', () => {\n\tif (!doNotIdleTimer) {\n\t\tfadeIn();\n\t\tidleTimer();\n\t}\n});\n\n// Block fade out when hovering full screen button\nfullScreenButton.addEventListener('mouseenter', () => {\n\tdoNotHideButton = true;\n});\n\n// Unblock fade out when stop hovering full screen button\nfullScreenButton.addEventListener('mouseleave', () => {\n\tdoNotHideButton = false;\n});\n"],"names":["$93489d848298d263$var$fullScreenButton","document","querySelector","$93489d848298d263$var$wrapper","$93489d848298d263$var$enterFull","$93489d848298d263$var$exitFull","canFullScreen","style","display","addEventListener","async","toggleFullScreen","isFullScreen","classList","add","remove","$93489d848298d263$var$fadeIn","$93489d848298d263$var$idleTimer","$93489d848298d263$var$idleCursorTimeout","setTimeout","$93489d848298d263$var$fadeOut","$93489d848298d263$var$doNotHideButton","$93489d848298d263$var$doNotIdleTimer","contains","body","clearTimeout"],"version":3,"file":"fullscreen.e05b0dd8.js.map"}